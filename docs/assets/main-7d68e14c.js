(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();async function a(){const t=await navigator.serviceWorker.getRegistrations();for(const i of t)if(i.installing.state==="installing")return;const o="/rails.sw.js";await navigator.serviceWorker.register(o,{scope:"/",type:"module"})}async function c(){if(!("serviceWorker"in navigator)){console.error("Service Worker is not supported in this browser.");return}return navigator.serviceWorker.controller?console.log("Service Worker already active."):(await a(),console.log("Waiting for Service Worker to activate...")),navigator.serviceWorker.addEventListener("message",function(t){switch(t.data.type){case"progress":{console.log(`Loading progress ${t.data.step} ${t.data.value}`);break}case"console":{console.log(t.data.message);break}default:console.log("Unknown message type:",t.data.type)}}),await navigator.serviceWorker.ready}async function l(){await c()&&(window.location.href="/")}l();
